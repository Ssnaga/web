(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},19:function(e,t,a){e.exports=a(48)},25:function(e,t,a){},26:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(17),i=a.n(o),r=(a(25),a(18)),s=a.n(r),c=(a(26),a(2)),u=a(3),h=a(6),d=a(5),m=a(1),g=a(7),b=a(4),p=a.n(b),v=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"getUserId",value:function(){return localStorage.getItem("userId")}}]),e}(),f=a(9),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={name:"",password:""},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.name,l=a.password;p.a.post("/login",{name:n,password:l}).then(function(e){console.log("Result:",e),v.authenticateUser(e.data.token),console.log("token:",v.getToken()),t.setState({name:"",password:""}),t.props.refreshPage()},function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Name:",l.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange,name:"name",required:!0})),l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChange,name:"password",required:!0})),l.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(n.Component),y=(a(46),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={name:"",email:"",password:"",repeat_password:"",message:""},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.name,l=a.password,o=a.repeat_password,i=a.email;l!=o&&this.setState({message:"Password does not match with repeat password field!<br/>"}),p.a.post("/register",{name:n,email:i,password:l}).then(function(e){console.log(e)}).then(function(e){console.log(e.data),t.props.refreshPage()},function(e){console.log(e),document.location.reload(!0)})}},{key:"render",value:function(){return l.a.createElement("div",{id:"signup"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Name:",l.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange,name:"name",required:!0})),l.a.createElement("br",null),l.a.createElement("label",null,"Email:",l.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email",required:!0})),l.a.createElement("br",null),l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChange,name:"password",required:!0})),l.a.createElement("br",null),l.a.createElement("label",null,"Repead-Password:",l.a.createElement("input",{type:"password",value:this.state.repeat_password,onChange:this.handleChange,name:"repeat_password",required:!0})),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Submit"})),l.a.createElement("div",{id:"message"},this.state.message))}}]),t}(n.Component)),k=(a(47),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={products:[]},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;p.a.get("/products",{headers:{Authorization:"Bearer "+v.getToken()}}).then(function(t){console.log(t.data),e.setState({products:t.data})})}},{key:"render",value:function(){var e=this.state.products.map(function(e){return l.a.createElement("div",{class:"tableau"},l.a.createElement("tr",{class:"tab"},l.a.createElement("td",{class:"tab1"},e.titre),l.a.createElement("td",{class:"tab2"},e.image),l.a.createElement("td",{class:"tab3"},e.price)))});return l.a.createElement("tbody",null," ",e," ")}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={titre:"",image:"",price:0},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.titre,n=t.image,l=t.price;p.a.post("/addproduct",{titre:a,image:n,price:l},{headers:{Authorization:"Bearer "+v.getToken()}}).then(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"titre:",l.a.createElement("input",{type:"text",value:this.state.titre,onChange:this.handleChange,name:"titre",required:!0})),l.a.createElement("label",null,"Image:",l.a.createElement("input",{type:"text",value:this.state.image,onChange:this.handleChange,name:"image",required:!0})),l.a.createElement("label",null,"price:",l.a.createElement("input",{type:"number",value:this.state.price,onChange:this.handleChange,name:"price",required:!0})),l.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={titre:""},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.titre;console.log("c'est typart"),p.a.post("/removeProduct",{titre:t},{headers:{Authorization:"Bearer "+v.getToken()}}).then(function(e){console.log(e)},function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Titre:",l.a.createElement("input",{type:"text",value:this.state.titre,onChange:this.handleChange,name:"titre",required:!0})),l.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={colone:"",modif:""},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.colone,n=t.modif;console.log({colone:a,modif:n}),p.a.post("/modifProduct",{colone:a,modif:n},{headers:{Authorization:"Bearer "+v.getToken()}}).then(function(e){console.log("passe"),console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",{class:"test"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"colone a changer:",l.a.createElement("input",{type:"text",value:this.state.colone,onChange:this.handleChange,name:"colone",required:!0})),l.a.createElement("label",null,"Modif:",l.a.createElement("input",{type:"text",value:this.state.modif,onChange:this.handleChange,name:"modif",required:!0})),l.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={show:!1,chaud:!1,rem:!1,add:!1},a.test=1,a.state2={titre:"testname",image:"testimage",price:1234},a.refreshPage=a.refreshPage.bind(Object(m.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"refreshPage",value:function(){this.forceUpdate()}},{key:"toggle",value:function(){this.setState({shown:!this.state.shown}),console.log(this.state.shown)}},{key:"toggleModif",value:function(){this.setState({chaud:!this.state.chaud}),console.log(this.state.chaud)}},{key:"toggleRemove",value:function(){this.setState({rem:!this.state.rem}),console.log(this.state.rem)}},{key:"toggleAdd",value:function(){this.setState({add:!this.state.add}),console.log(this.state.add)}},{key:"logout",value:function(){var e=this;alert("logout"),console.log("zzzz"),console.log(v.getToken()),console.log(v.getUserId()),p.a.post("/logout",{token:v.getToken()}).then(function(t){console.log("tes"),console.log(v.getToken()),console.log(t),e.refreshPage()}),v.deauthenticateUser()}},{key:"add",value:function(){alert("add");var e=this.state2,t=e.titre,a=e.image,n=e.price;p.a.post("/addproduct",{titre:t,image:a,price:n},{headers:{Authorization:"Bearer "+v.getToken()}}).then(function(e){console.log(e)})}},{key:"render",value:function(){var e={display:this.state.shown?"none":"block"},t={display:this.state.shown?"block":"none"},a={display:this.state.chaud?"block":"none"},n={display:this.state.chaud?"block":"none"},o={display:this.state.rem?"block":"none"},i={display:this.state.rem?"block":"none"},r={display:this.state.add?"block":"none"},s={display:this.state.add?"block":"none"};return l.a.createElement("div",null,v.isUserAuthenticated()?l.a.createElement("div",null,l.a.createElement("div",{id:"logout"},"Logout ",l.a.createElement("button",{onClick:this.logout.bind(this)},"LogOut")),l.a.createElement("div",{class:"tableau"},l.a.createElement("tr",{class:"tab"},l.a.createElement("td",{class:"tab1"},"TITRE"),l.a.createElement("td",{class:"tab2"},"STATE"),l.a.createElement("td",{class:"tab3"},"ORDER OF PRORITY"))),l.a.createElement(k,null),l.a.createElement("div",null,"modify a Book",l.a.createElement("button",{onClick:this.toggleModif.bind(this)},"modify")),l.a.createElement("div",{style:a},l.a.createElement(C,null)),l.a.createElement("div",{style:n}),l.a.createElement("div",null,"Remove a Book",l.a.createElement("button",{onClick:this.toggleRemove.bind(this)},"Remove")),l.a.createElement("div",{style:o},l.a.createElement(j,null)),l.a.createElement("div",{style:i}),l.a.createElement("div",null,"Add a Book",l.a.createElement("button",{onClick:this.toggleAdd.bind(this)},"Add")),l.a.createElement("div",{style:r},l.a.createElement(O,null)),l.a.createElement("div",{style:s}),"$"):l.a.createElement("div",{id:"login"},l.a.createElement("div",{style:e},l.a.createElement(E,{refreshPage:this.refreshPage}),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.toggle.bind(this)},"Register")),l.a.createElement("div",{style:t},l.a.createElement(y,{refreshPage:this.refreshPage}))))}}]),t}(n.Component);var w=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"}),l.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.fce873c2.chunk.js.map